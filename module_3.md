# 3. Проектирование без данных

## Концептуальное проектирование

Обычно при концептуальное проектирование используют популярную модель [«сущность — связь» (ER-модель)](https://en.wikipedia.org/wiki/Entity%E2%80%93relationship_model).

>ER-модель (от англ. entity-relationship model, модель «сущность — связь») — модель данных, позволяющая описывать концептуальные схемы предметной области [(Википедия)](https://ru.wikipedia.org/wiki/ER-%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C).

ER-модель используется при высокоуровневом (концептуальном) проектировании баз данных. С её помощью можно выделить ключевые сущности и обозначить связи, которые могут устанавливаться между этими сущностями. Проектирование можно разделить на несколько этапов.

### Этапы

* Выделение сущностей
* Определение связей
* Определение атрибутов сущности, а также типов данных и доменов
* Определение ключей для сущности
* Ограничение целостности

    * Допустимые значения
    * Разрешенные значения
    * Существующие значения

### Выделение типов сущностей

**Задача этапа:** выделить типы сущностей.

**Порядок решения:**

1. Провести интервью с различными группами будущих пользователей понять их *потребности и представления* о предметной области.
2. Выделить типы сущностей. Например, при моделировании БД для хранения информации о сотрудниках, могут быть выделены сущности «сотрудник» или «отдел».
3. Отбросить ненужные сущности. Возможно, сохранить часть сущностей в виде атрибутов у других сущностей.
4. Дать установленным типам сущностей имена.

### Определение связей между сущностями

**Задача этапа:** определить связи и типы связей.

**Типы связей:**

* Один ко многим
* Многие к одному
* Многие ко многим (обычно реализуется с помощью дополнительной таблицы)
* Один к одному

**Кратность связей:**

* 1 (должна быть связана 1 сущность)
* 0..1 (должны быть связаны от 0 до 1 сущности)
* 0..n (должны быть связаны от 0 до n сущностей)
* 1..n (должны быть связаны от 1 до n сущностей)

**Порядок решения:**

1. Опредилить типы связей для каждого типа сущности
2. Определить кратность связей для каждой связи

### Определение атрибутов

**Задача этапа:** определить атрибуты (свойства) сущностей и связей.

**Порядок решения:**

1. Выделить атрибуты типов сущностей.
2. Выделить атрибуты связей.
3. Выбрать простые или составные атрибуты.
4. Дать установленным атрибутам имена.
5. Выбрать ключевый атрибутов (ключей).

    1. Определить ключевые атрибуты (один или несколько)
    2. Выбирается первичный ключ (простой, составной или синтетический)
    3. Для слабых сущностей (у которых нет совокупности атрибутов, которые могут быть уникальны в рамках БД, т.е. нет потенциального ключа) вводятся синтетические ключевые атрибуды (сгенерированный уникальный идентификатор)

### Проверка

1. Наличие связей типа «Один к одному» говорит о том, что эти сущности можно попробовать объединить в одну.
2. Проверить наличие избыточных связей.
3. Проверить выполнимость пользовательских операций.
4. Обсуждение с пользователями.

## Логическое проектирование



## Физическое проектирование